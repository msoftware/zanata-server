<s:fragment
  xmlns="http://www.w3.org/1999/xhtml"
  xmlns:s="http://jboss.org/schema/seam/taglib"
  xmlns:f="http://java.sun.com/jsf/core"
  xmlns:h="http://java.sun.com/jsf/html"
  xmlns:a4j="http://richfaces.org/a4j">

  <div class="l--push-top-half form__item">
    <h:outputLabel for="slug">#{messages['jsf.GroupId']}</h:outputLabel>
    <s:decorate id="slugField" template="../field.xhtml" enclose="true">
      <h:inputText rendered="#{versionGroupHome.managed}"
        disabled="true"
        value="#{versionGroupHome.instance.slug}">
      </h:inputText>
      <h:inputText rendered="#{not versionGroupHome.managed}"
        id="slug" required="true"
        value="#{versionGroupHome.instance.slug}"
        valueChangeListener="#{versionGroupHome.verifySlugAvailable}">
        <a4j:ajax event="blur" render="slugField" execute="@this"/>
      </h:inputText>
    </s:decorate>
  </div>
  <div class="l--push-top-half form__item">
    <h:outputLabel for="name">#{messages['jsf.GroupName']}
      <s:span styleClass="txt--required">*</s:span>
    </h:outputLabel>
    <s:decorate id="nameField" template="../field.xhtml" enclose="true">
      <h:inputText id="name" required="true"
        value="#{versionGroupHome.instance.name}">
        <a4j:ajax event="blur" render="nameField" execute="@this"/>
      </h:inputText>
    </s:decorate>
  </div>

  <div class="l--push-top-half form__item">
    <h:outputLabel for="description">
      #{messages['jsf.GroupDescription']}
    </h:outputLabel>
    <s:decorate id="descriptionField" template="../field.xhtml">
      <h:inputTextarea id="description" required="false"
        value="#{versionGroupHome.instance.description}"/>
    </s:decorate>
  </div>

  <a4j:outputPanel id="status">
    <a4j:commandLink styleClass="txt--warning"
      action="#{versionGroupHome.setStatus('O')}" render="status"
      rendered="#{versionGroupHome.instance.status == 'ACTIVE'}">
      #{messages['jsf.ArchiveThisGroup']}
    </a4j:commandLink>

    <a4j:commandLink styleClass="txt--warning"
      action="#{versionGroupHome.setStatus('A')}" render="status"
      rendered="#{versionGroupHome.instance.status != 'ACTIVE'}">
      #{messages['jsf.ActivateThisGroup']}
    </a4j:commandLink>
  </a4j:outputPanel>

</s:fragment>
